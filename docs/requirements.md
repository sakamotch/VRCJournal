# VRCJournal - プロダクト要件定義

## 1. 目的

- VRChatでの体験を**思い出**として整理・振り返るための日記ツール。
- VRChatのログを解析し、「いつ」「どこで」「誰と」過ごしたかを自動記録。
- 訪れたワールドの思い出、撮影した写真、感想を一元管理。
- アカウント情報不要。ローカルログのみで完結。
- 他者の監視・追跡機能は一切持たない。あくまで**自分の思い出**を整理するツール。

## 2. 想定ユーザー

- VRChatでの思い出を大切にしたい個人ユーザー。
- 「あのワールド、どこだっけ？」「あの人とどこで会ったっけ？」を解決したいユーザー。
- VRChatへのログイン情報をアプリに渡したくないユーザー。
- 写真や感想と一緒に、VR体験を日記的に記録したいユーザー。
- 他者の行動追跡・監視機能を求めないユーザー。

## 3. 利用シナリオ

### 基本フロー
1. **自動記録**: アプリ起動中、VRChatのログを監視し、訪問ワールド・プレイヤー情報を自動記録
2. **思い出の追加**: セッション後、写真やメモを追加して思い出を充実
3. **振り返り**: タイムラインやワールド一覧から過去の体験を振り返る
4. **再訪問**: 「あのワールドにまた行きたい」→お気に入りから招待URL生成

### ユースケース例

**ケース1: 素敵なワールドを見つけた**
- セッション記録を開き、星マークでお気に入り登録
- 撮影した写真の中から、代表的な1枚をワールドサムネイルに設定
- 「景色が綺麗で癒された」とメモを記入
- 「風景」「癒し」タグを追加

**ケース2: 友達との集まり**
- セッションに「○○さんの誕生日会」とタイトル設定
- 集合写真を複数枚添付
- お気に入りセッションに登録して、後から簡単に見返せるように

**ケース3: 思い出を振り返る**
- 月次レポートで「今月は15個のワールドを訪問」を確認
- ワールドお気に入り一覧から「行きたいワールドリスト」をチェック
- 「1年前の今日」機能で懐かしい思い出を再発見

## 4. 対象データ

- `%USERPROFILE%\AppData\LocalLow\VRChat\VRChat\output_log_*.txt`  
- 自分が参加したインスタンスにおけるプレイヤー情報（ログに含まれる範囲）。  
- オンラインのフレンド状況や他プレイヤーの行動履歴のような情報は収集対象外。

## 5. 非機能要件

- VRChatのアカウント情報の入力を不要とする。  
- 他者情報の不必要な収集は行わない。  
- 軽量で高速なログ監視・解析を行う。  
- SQLiteによりローカルデータベースへ永続的に記録する。  
- バックアップ機能を備え、ユーザーが任意に復元可能とする。
- UIは日誌的な記録作業に適した簡潔な構成とする。

## 6. 機能要件

### 6.1 自動記録系
- **ログファイル監視・解析**
  - VRChatログファイルのリアルタイム監視
  - 日時／ワールド名／インスタンスID／プレイヤー情報の自動記録
  - スクリーンショット撮影の自動検知・セッション紐付け

### 6.2 思い出整理系（セッション）
- **セッション管理**
  - セッションタイトル設定
  - お気に入りセッション登録（星マーク）
  - セッションへのタグ追加
  - Markdownメモ記入
  - スクリーンショット自動表示・手動追加
- **思い出アルバム**
  - 複数セッションをまとめたアルバム作成
  - アルバムタイトル・説明設定
  - 例：「2025年10月の思い出」「○○さんとの写真集」

### 6.3 ワールド整理系
- **ワールドお気に入り管理**
  - ワールドに星マーク（1〜5段階評価）
  - ワールドごとのメモ・カテゴリ設定
  - ワールド代表サムネイル設定（セッション写真から選択）
- **ワールドリスト**
  - お気に入りワールド一覧
  - 行きたいワールドリスト（ブックマーク）
  - 定期訪問ワールド管理（最終訪問日からの経過日数表示）
- **ワールド統計**
  - ワールド別訪問回数・滞在時間
  - ワールド別訪問履歴タイムライン
  - ワールド訪問回数ランキング

### 6.4 人物思い出系
- **人物メモ**
  - よく会う人へのニックネーム・メモ設定
  - 初めて会った日・場所の記録
  - その人との思い出タグ
- **人物統計**
  - 同席頻度ランキング
  - 特定の人との活動履歴抽出
  - グループメンバーとのセッション自動抽出

### 6.5 振り返り支援系
- **レポート自動生成**
  - 月次／年次活動レポート
    - 訪問ワールド数
    - 総滞在時間
    - よく会った人トップ5
    - 最も訪問したワールド
  - グラフ・統計による可視化
- **思い出の再発見**
  - 「1年前の今日」表示
  - ランダムな過去セッション表示
  - タイムカプセル機能（未来日時に通知設定）
- **記念日マーカー**
  - 特定の日を記念日として登録
  - その日のセッションに自動バッジ表示

### 6.6 AI活用系（将来実装）
- **スクリーンショット自動整理**
  - アバター顔認識によるグルーピング
  - 同一アバターの写真を横断検索
  - アバターごとの出現セッション一覧
  - 「この人とどのインスタンスで会ったか」可視化
- **プライバシー保護**
  - 全てローカル処理（外部送信なし）
  - 顔埋め込みベクトルのみ保存
  - 任意の写真をAI処理から除外可能

### 6.7 検索・表示系
- **表示モード**
  - タイムライン表示
  - カレンダー表示
  - ヒートマップ表示
  - 写真ギャラリー表示
  - アルバム表示
- **検索・フィルタリング**
  - タグ／ワールド名／日付／プレイヤーで絞り込み
  - お気に入りのみ表示
  - 未分類セッションの抽出

### 6.8 ユーティリティ系
- **再訪問支援**
  - 過去インスタンスへの招待URL生成
  - お気に入りワールドへのクイックアクセス
- **データ管理**
  - SQLiteによるローカル永続化
  - データバックアップ・復元
  - データエクスポート（JSON形式）
- **UI設定**
  - ライト／ダークテーマ切り替え
  - 多言語対応（日本語・英語）
    - システムロケール自動検出
    - ユーザーによる手動切り替え
    - 日付・時刻の自動ローカライズ

## 7. 非対象機能

- 他プレイヤーの行動履歴の追跡・収集。
- 外部通信（サーバー連携・SNS投稿・クラウド同期）。
- 自動タグ付けなど過剰な自動化機能。
- AI機能における外部API利用
  - 画像認識は全てローカル処理
  - 顔データの外部送信は一切行わない  

## 8. プラットフォーム

- デスクトップアプリケーション。  
- 対応 OS: Windows のみ。

## 9. 開発方針

### 9.1 基本方針
- **思い出を大切にする**: VR体験を「記録」ではなく「思い出」として扱う
- **シンプルで使いやすい**: 複雑な操作不要。日記を書く感覚で使える
- **プライバシー第一**: 他者監視機能の完全排除。自分の体験のみを管理

### 9.2 技術方針
- **完全ローカル動作**: アカウント情報・外部通信不要
- **軽量・高速**: ログ監視とデータベース処理を最適化
- **拡張性**: 将来的なAI機能追加を見据えた設計

### 9.3 UI/UX方針
- **視覚的**: 写真を中心とした思い出の整理
- **直感的操作**: ドラッグ&ドロップ、ワンクリック操作
- **心地よい体験**: 思い出を振り返る楽しさを重視したデザイン
